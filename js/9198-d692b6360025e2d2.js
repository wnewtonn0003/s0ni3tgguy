"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9198],{99198:function(e,t,r){r.d(t,{N:function(){return l},o:function(){return c}});var n=r(26705),a=r(62076),i=r(79681),o=r(20955);let l=()=>(0,o.useRef)(null);function c(e){let{className:t,predefinedPaths:r=[],pathProbability:l=.3,easterEggRef:c}=e,u=(0,o.useRef)(null),s=(0,o.useRef)(null),[h,d]=(0,o.useState)(!1),[f,y]=(0,o.useState)(!1),[p,g]=(0,o.useState)(null),b=(0,o.useRef)(null),m=(0,o.useRef)(null),w=(0,o.useRef)(null),A=(0,o.useRef)(null),R=(0,o.useRef)(0),x=(0,o.useRef)([]),v=(0,o.useRef)([]),M=(0,o.useRef)(0),_=(0,o.useRef)(null),F=(0,o.useRef)(1),E=(0,o.useRef)([]),Y=(0,o.useRef)(0),O=(0,o.useCallback)(async()=>{if(b.current&&(b.current.pause(),b.current.src="",b.current=null),m.current){try{"closed"!==m.current.state&&await m.current.close()}catch(e){console.warn("Audio context cleanup warning:",e)}m.current=null}w.current=null,A.current=null},[]),B=(0,o.useCallback)(async e=>{try{await O(),y(!0),g(e);let t=new(window.AudioContext||window.webkitAudioContext),r=t.createGain();r.gain.value=F.current,_.current=r;let n=new Audio;n.src=e.src,n.crossOrigin="anonymous",n.loop=!1,n.addEventListener("ended",()=>{D()}),await new Promise((e,t)=>{n.addEventListener("canplaythrough",e,{once:!0}),n.addEventListener("error",t,{once:!0}),n.load()}),m.current=t,b.current=n;let a=t.createMediaElementSource(n),i=t.createAnalyser();i.fftSize=128,i.smoothingTimeConstant=.5,w.current=i,A.current=new Uint8Array(i.frequencyBinCount),a.connect(i),i.connect(r),r.connect(t.destination),"suspended"===t.state&&await t.resume(),await n.play()}catch(e){console.error("Error activating track:",e),await O(),y(!1),g(null)}},[O]),D=(0,o.useCallback)(async()=>{if(0===E.current.length)return;Y.current=(Y.current+1)%E.current.length;let e=E.current[Y.current];await B(e)},[B]),L=(0,o.useCallback)(async()=>{if(0===E.current.length)return;Y.current=(Y.current-1+E.current.length)%E.current.length;let e=E.current[Y.current];await B(e)},[B]),z=(0,o.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;E.current=e,Y.current=t,await B(e[t])},[B]),C=(0,o.useCallback)(async()=>{await O(),y(!1),g(null),E.current=[],Y.current=0},[O]);return(0,o.useEffect)(()=>{c&&(c.current={volume:F.current,setVolume:e=>{F.current=Math.max(0,Math.min(1,e)),_.current&&(_.current.gain.value=F.current)},activatePlaylist:z,deactivatePlaylist:C,nextTrack:D,prevTrack:L,currentTrack:p,isPlaying:f})},[z,C,D,L,c,f,p]),(0,o.useEffect)(()=>{let e=u.current,t=s.current;if(!e||!t)return;let n=e.getContext("webgl2",{alpha:!0,antialias:!0,desynchronized:!0}),a=t.getContext("2d");if(!n||!a)return;let i=function(e){let t=e.createShader(e.VERTEX_SHADER),r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(t,"#version 300 es\n    in vec2 a_position;\n    in float a_size;\n    in float a_opacity;\n    in vec3 a_color;\n    uniform vec2 u_resolution;\n    out float v_opacity;\n    out vec3 v_color;\n    void main() {\n      vec2 zeroToOne = a_position / u_resolution;\n      vec2 zeroToTwo = zeroToOne * 2.0;\n      vec2 clipSpace = zeroToTwo - 1.0;\n      gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n      gl_PointSize = a_size;\n      v_opacity = a_opacity;\n      v_color = a_color;\n    }\n  "),e.shaderSource(r,"#version 300 es\n    precision highp float;\n    in float v_opacity;\n    in vec3 v_color;\n    out vec4 fragColor;\n    void main() {\n      vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n      float r = dot(cxy, cxy);\n      if (r > 1.0) {\n        discard;\n      }\n      float alpha = 1.0 - smoothstep(0.95, 1.0, r);\n      fragColor = vec4(v_color, v_opacity * alpha);\n    }\n  "),e.compileShader(t),e.compileShader(r);let n=e.createProgram();return(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))?n:(console.error("Unable to initialize the shader program:",e.getProgramInfoLog(n)),null)}(n);if(!i)return;let o={position:n.getAttribLocation(i,"a_position"),size:n.getAttribLocation(i,"a_size"),opacity:n.getAttribLocation(i,"a_opacity"),color:n.getAttribLocation(i,"a_color"),resolution:n.getUniformLocation(i,"u_resolution")},c={position:n.createBuffer(),size:n.createBuffer(),opacity:n.createBuffer(),color:n.createBuffer()};window.matchMedia("(max-width: 768px)").matches;let y=.8*Math.max(e.width,e.height),p=[],g=0,_=0,F=!1,E=0,Y=()=>{p=[];let t=new Float32Array(Math.ceil(e.width/25)*Math.ceil(e.height/25)*2),r=new Float32Array(t.length/2),a=new Float32Array(t.length/2),i=0;for(let n=0;n<e.width;n+=25)for(let o=0;o<e.height;o+=25)t[2*i]=n,t[2*i+1]=o,r[i]=2.5,a[i]=.3+.2*Math.random(),p.push({x:n,y:o,baseX:n,baseY:o,baseOpacity:a[i],currentOpacity:a[i],connections:[],size:2.5,targetSize:2.5,audioOpacity:0,color:[1,1,1]}),i++;n.bindBuffer(n.ARRAY_BUFFER,c.position),n.bufferData(n.ARRAY_BUFFER,t,n.DYNAMIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,c.size),n.bufferData(n.ARRAY_BUFFER,r,n.DYNAMIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,c.opacity),n.bufferData(n.ARRAY_BUFFER,a,n.DYNAMIC_DRAW),p.forEach(e=>{e.connections=p.filter(t=>{let r=Math.hypot(e.baseX-t.baseX,e.baseY-t.baseY);return t!==e&&r<=37.5})})},O=t=>{let r=e.getBoundingClientRect();g=t.clientX-r.left,_=t.clientY-r.top},B=()=>{F=!0},D=()=>{F=!1;let t=e.width||window.innerWidth,r=e.height||window.innerHeight;x.current.push({id:Date.now(),x:g,y:_,radius:0,intensity:1,maxRadius:.4*Math.max(t,r),speed:2.5})},L=e=>{let t=g-e.baseX,r=_-e.baseY,n=Math.hypot(t,r),a=100*(F?3:1);if(n<=a){let i=(1-n/a)*(F?10:3),o=e.baseX+t/n*i,l=e.baseY+r/n*i;e.x+=(o-e.x)*.1,e.y+=(l-e.y)*.1,e.currentOpacity=e.baseOpacity}else e.x+=(e.baseX-e.x)*.1,e.y+=(e.baseY-e.y)*.1,e.currentOpacity+=(e.baseOpacity-e.currentOpacity)*.1},z=(t,r)=>{let n=0,a=0,i=0,o=0;if(f&&w.current&&A.current){let r=A.current.length,n=Math.floor((e.height-t.baseY)/e.height*r),a=A.current[n]/255,i=n/r;if(a>.08){if(i<.25){let e=4*i;t.color=[.5+.5*e,0+.2*e,.8+.2*e]}else if(i<.5){let e=(i-.25)*4;t.color=[1,.2+.4*e,1-.8*e]}else if(i<.75){let e=(i-.5)*4;t.color=[1-.9*e,.6+.4*e,.2+.8*e]}else{let e=(i-.75)*4;t.color=[.1-.1*e,1-.3*e,1]}let e=.3+.7*a;t.color=t.color.map(t=>t*e)}else t.color=[.95,.95,1]}else t.color=[1,1,1];r.forEach(e=>{let r=Math.abs(Math.hypot(t.x-e.x,t.y-e.y)-e.radius);if(r<=150){let l=.5*Math.cos(r/150*Math.PI)+.5,c=6*l*e.intensity,u=5*l*e.intensity;n=Math.max(n,c),a=Math.max(a,u);let s=.2*E,h=2*l*e.intensity;i+=Math.cos(s)*h,o+=Math.sin(s)*h;let d=Math.atan2(t.y-e.y,t.x-e.x),f=l*e.intensity*5;i+=Math.cos(d)*f,o+=Math.sin(d)*f}}),t.x+=i,t.y+=o,t.targetSize=1.5+n,t.size+=(t.targetSize-t.size)*.15;let l=Math.min(1,t.baseOpacity+a+(t.audioOpacity||0));t.currentOpacity+=(l-t.currentOpacity)*.15},C=(e,t)=>{let r=[e],n=new Set([e]),a={x:0,y:0};for(;r.length<t;){let e=r[r.length-1],t=e.connections.filter(e=>!n.has(e));if(0===t.length)break;let i=t.map(t=>{let r=t.baseX-e.baseX,n=t.baseY-e.baseY;return{dot:t,score:r*a.x+n*a.y+Math.random()}});i.sort((e,t)=>t.score-e.score);let o=i[0].dot;r.push(o),n.add(o),a={x:o.baseX-e.baseX,y:o.baseY-e.baseY}}return r},S=(e,t)=>{let r={up:{x:0,y:-1},down:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"up-right":{x:1,y:-1},"up-left":{x:-1,y:-1},"down-right":{x:1,y:1},"down-left":{x:-1,y:1}}[t],n=e.baseX+25*r.x,a=e.baseY+25*r.y;return p.find(e=>1>Math.abs(e.baseX-n)&&1>Math.abs(e.baseY-a))||null},k=()=>{if(r.length>0&&Math.random()<l){let e=r[Math.floor(Math.random()*r.length)];for(let t=0;t<20;t++){let t=p[Math.floor(Math.random()*p.length)],r=[t],n=t,a=!0;for(let t of e){let e=S(n,t);if(!e){a=!1;break}r.push(e),n=e}if(a){let e=r.reduce((e,t,n)=>{if(0===n)return 0;let a=r[n-1];return e+Math.hypot(t.baseX-a.baseX,t.baseY-a.baseY)},0);v.current.push({path:r,progress:0,fadeOut:null,totalLength:e,intensity:1});return}}}let e=C(p[Math.floor(Math.random()*p.length)],4),t=e.reduce((t,r,n)=>{if(0===n)return 0;let a=e[n-1];return t+Math.hypot(r.baseX-a.baseX,r.baseY-a.baseY)},0);v.current.push({path:e,progress:0,fadeOut:null,totalLength:t,intensity:1})},T=()=>{if(R.current+=.016,E+=.016,n.useProgram(i),n.viewport(0,0,e.width,e.height),n.clear(n.COLOR_BUFFER_BIT),a.clearRect(0,0,t.width,t.height),f&&w.current&&A.current){w.current.getByteFrequencyData(A.current);let t=A.current.slice(0,4).reduce((e,t)=>e+t,0)/4,r=A.current.slice(4,10).reduce((e,t)=>e+t,0)/6;if(t>200&&.15>Math.random()){let r=e.width/2+(Math.random()-.5)*e.width*.8,n=e.height/2+(Math.random()-.5)*e.height*.8;x.current.push({id:Date.now(),x:r,y:n,radius:0,intensity:t/255*.8,maxRadius:.5*y,speed:2.5*(1+t/255)*.5})}if(r>180&&.08>Math.random()){let t=e.width/2+(Math.random()-.5)*e.width,n=e.height/2+(Math.random()-.5)*e.height;x.current.push({id:Date.now(),x:t,y:n,radius:0,intensity:Math.min(.9,r/255*1.2),maxRadius:y*(.7+r/255),speed:2.5*(1.2+r/255)})}}let r=[];for(let e of x.current){e.radius=Math.min(e.radius+(e.speed||2.5),e.maxRadius);let t=e.radius/e.maxRadius;e.intensity=Math.pow(1-t,1.5),e.radius<e.maxRadius&&e.intensity>.001&&r.push(e)}x.current=r;let l=new Float32Array(2*p.length),u=new Float32Array(p.length),s=new Float32Array(p.length),g=new Float32Array(3*p.length);p.forEach((e,t)=>{L(e),z(e,x.current),l[2*t]=e.x,l[2*t+1]=e.y,u[t]=e.size,s[t]=e.currentOpacity,g[3*t]=e.color[0],g[3*t+1]=e.color[1],g[3*t+2]=e.color[2]}),n.bindBuffer(n.ARRAY_BUFFER,c.position),n.bufferData(n.ARRAY_BUFFER,l,n.DYNAMIC_DRAW),n.enableVertexAttribArray(o.position),n.vertexAttribPointer(o.position,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,c.size),n.bufferData(n.ARRAY_BUFFER,u,n.DYNAMIC_DRAW),n.enableVertexAttribArray(o.size),n.vertexAttribPointer(o.size,1,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,c.opacity),n.bufferData(n.ARRAY_BUFFER,s,n.DYNAMIC_DRAW),n.enableVertexAttribArray(o.opacity),n.vertexAttribPointer(o.opacity,1,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,c.color),n.bufferData(n.ARRAY_BUFFER,g,n.DYNAMIC_DRAW),n.enableVertexAttribArray(o.color),n.vertexAttribPointer(o.color,3,n.FLOAT,!1,0,0),o.resolution&&n.uniform2f(o.resolution,e.width,e.height),n.drawArrays(n.POINTS,0,p.length),v.current=v.current.filter(e=>{if(null!==e.fadeOut){let t=e.totalLength/75*30;if(e.fadeOut++,e.fadeOut>=t)return!1}let t=e.progress*e.totalLength,r=0;a.beginPath();for(let n=1;n<e.path.length;n++){let i=e.path[n-1],o=e.path[n],l=Math.hypot(o.x-i.x,o.y-i.y);if(r+l>t){let e=(t-r)/l,n=i.x+(o.x-i.x)*e,c=i.y+(o.y-i.y)*e;a.moveTo(i.x,i.y),a.lineTo(n,c);break}a.moveTo(i.x,i.y),a.lineTo(o.x,o.y),r+=l}let n=.5;if(null!==e.fadeOut){let t=e.totalLength/75*30;n=.5*(1-e.fadeOut/t)}return a.strokeStyle="rgba(255, 255, 255, ".concat(.25*n,")"),a.lineWidth=2,a.stroke(),null===e.fadeOut&&(e.progress+=.005,e.progress>=1&&(e.fadeOut=0)),!0}),.01>Math.random()&&v.current.length<5&&k(),h||d(!0),M.current=requestAnimationFrame(T)},P=()=>{e.width=window.innerWidth,e.height=window.innerHeight,t.width=window.innerWidth,t.height=window.innerHeight,Y()};P(),window.addEventListener("resize",P),e.addEventListener("mousemove",O),e.addEventListener("mousedown",B),e.addEventListener("mouseup",D);let U=()=>{let t=e.width||window.innerWidth,r=e.height||window.innerHeight;x.current.push({id:Date.now(),x:g,y:_,radius:0,intensity:1,maxRadius:.4*Math.max(t,r),speed:2.5})};return e.addEventListener("click",U),M.current=requestAnimationFrame(T),()=>{window.removeEventListener("resize",P),e.removeEventListener("mousemove",O),e.removeEventListener("mousedown",B),e.removeEventListener("mouseup",D),e.removeEventListener("click",U),cancelAnimationFrame(M.current),(async()=>{if(b.current&&(b.current.pause(),b.current.src="",b.current=null),m.current){try{await m.current.close()}catch(e){console.error("Error closing audio context:",e)}m.current=null}w.current=null,A.current=null})()}},[B,f,h,l,r]),(0,n.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:h?1:0},transition:{duration:.8,ease:"easeOut"},className:"relative",children:[(0,n.jsx)("canvas",{ref:u,className:(0,a.cn)("absolute inset-0 pointer-events-auto opacity-40",t),style:{transform:"translate3d(0,0,0)",backfaceVisibility:"hidden"},"aria-label":"Interactive background grid"}),(0,n.jsx)("canvas",{ref:s,className:"absolute inset-0 pointer-events-none",style:{transform:"translate3d(0,0,0)",backfaceVisibility:"hidden"},"aria-label":"Pulse effects layer"})]})}}}]);